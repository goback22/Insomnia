<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace속성:매퍼파일의 완전한경로 .xml는 생략 -->
<!-- ※ibatis와는 다르게 id값에 .(dot)를 사용 못한다. -->

<mapper namespace="mapper.adminMember">
	<select id="adminMember" parameterType="java.util.Map" resultType="AdminDTO" >
		select * from members 
		<if test="todayJoin != null">
			where to_char(join_date, 'yyyymmdd' ) = to_char(sysdate, 'yyyymmdd')
		</if>
	</select>
	<select id="adminMainMember" parameterType="java.util.Map" resultType="AdminDTO">
		select * from band
<!-- 		select B.*,BMU.bm_name,BMU.bm_description,BMU.bm_liked from band B  -->
<!-- join bandmusic BMU on B.b_no = BMU.b_no -->
<!-- where B.b_no=1 -->
		
	</select>
	<select id="adminMainMusicList" parameterType="java.lang.String" resultType="AdminDTO">
		select B.b_no,BM.* from band B join bandmusic BM on B.b_no = BM.b_no where B.b_name=#{B.b_name}
	</select>
</mapper>
